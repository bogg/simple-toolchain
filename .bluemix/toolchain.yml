--- 
default_locale: en
deploy: 
  parameters: 
    prod-app-name: "{{sample-repo.parameters.repo_name}}"
    prod-organization: "{{organization}}"
    prod-region: "{{region}}"
    prod-space: "{{space}}"
  schema: 
    $ref: deploy.json
  service-category: pipeline
description: |-
    With this toolchain, you can develop and deploy a Cloud Foundry application. By default, the toolchain uses a sample Node.js Hello World app, but you can link to your own GitHub repository instead. This toolchain is preconfigured for continuous delivery, source control, issue tracking, and online editing.
    
    To get started, click **Create**.
github: 
  parameters: 
    has_issues: true
    repo_name: "sample-{{name}}"
    repo_url: "https://github.com/open-toolchain/node-hello-world"
    type: clone
  schema: 
    $ref: github.json
  service-category: githubpublic
image: "data:image/png;base64,$file(toolchain.png,base64)"
locales: 
  $ref: locales.yml
name: "Simple Cloud Foundry toolchain"
required: 
  - deploy
  - sample-repo
sample-build: 
  hidden: 
    - form
    - description
  parameters: 
    configuration: 
      content: $file(pipeline.yml)
      env: 
        CF_APP_NAME: "{{deploy.parameters.prod-app-name}}"
        PROD_ORG_NAME: "{{deploy.parameters.prod-organization}}"
        PROD_REGION_ID: "{{deploy.parameters.prod-region}}"
        PROD_SPACE_NAME: "{{deploy.parameters.prod-space}}"
        SAMPLE_REPO: sample-repo
      execute: true
    name: "sample-{{name}}"
    services: 
      - sample-repo
    ui-pipeline: true
  service_id: pipeline
sample-repo: 
  hidden: 
    - form
    - description
  parameters: 
    has_issues: true
    repo_name: "sample-{{name}}"
    repo_url: "https://github.com/open-toolchain/node-hello-world"
    type: clone
  service_id: githubpublic
version: 0.1
webide: 
  service_id: orion
